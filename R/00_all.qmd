---
title: "00_all"
format: html
---

```{r}
#render all notebooks
library("quarto")

qmds <- list.files(pattern = "\\.qmd$")
qmds <- qmds[qmds != "00_all.qmd"] #dont render current notebook i dont know if that would create a recursive loop
qmds <- qmds[qmds != "0X_background.qmd"]

for (qmd_document in qmds) {
  quarto_render(qmd_document,
                output_format = "html",
                execute_params = list(embed_resources = TRUE))}

#move them to res dir
html_names <- sub("\\.qmd$", ".html", qmds)

#move the files
if (!dir.exists("../results")){
  dir.create("../results", recursive = TRUE)}

# move each file
file.rename(html_names, file.path("../results", basename(html_names)))
```
```{r}
#Render the presentation as well
quarto_render("../doc/presentation.qmd")#presentation shouldnt be moved according to proj description
```

